<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        :root {
            --hazmat-yellow: #ffd700;
            --toxic-green: #1e8f1e;
            --crystal-blue: #529edb;
            --warning-red: #ff4444;
        }

        body {
            background-color: #0a0a0a;
            background-image: 
                linear-gradient(45deg, 
                    rgba(255, 215, 0, 0.05) 25%, 
                    transparent 25%, 
                    transparent 75%, 
                    rgba(255, 215, 0, 0.05) 75%, 
                    rgba(255, 215, 0, 0.05));
            background-size: 20px 20px;
            color: #ffffff;
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 20px;
        }

        .dashboard {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(26, 26, 26, 0.95);
            border-radius: 8px;
            border: 2px solid var(--hazmat-yellow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "‚öóÔ∏è";
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
        }

        .header::after {
            content: "üß™";
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
        }

        .header h1 {
            color: var(--hazmat-yellow);
            margin: 0;
            font-size: 2.5em;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .chemical-formula {
            color: var(--crystal-blue);
            font-size: 0.9em;
            margin-top: 10px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .chart-container {
            background: rgba(26, 26, 26, 0.95);
            padding: 20px;
            border-radius: 8px;
            position: relative;
            border: 1px solid var(--hazmat-yellow);
        }

        .chart-title {
            color: var(--hazmat-yellow);
            font-size: 1.2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .risk-meter {
            grid-column: 1 / -1;
            background: rgba(26, 26, 26, 0.95);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--hazmat-yellow);
        }

        .risk-title {
            color: var(--hazmat-yellow);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .risk-bar {
            height: 40px;
            background: #333;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
            border: 2px solid var(--hazmat-yellow);
        }

        .risk-level {
            height: 100%;
            background: linear-gradient(to right, 
                var(--toxic-green), 
                var(--hazmat-yellow), 
                var(--warning-red));
            width: 0%;
            transition: width 0.5s ease;
        }

        .status-text {
            margin-top: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-box {
            background: rgba(255, 215, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .stat-value {
            font-size: 1.4em;
            color: var(--hazmat-yellow);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.8em;
            color: #888;
        }

        .risk-details {
            margin-top: 15px;
            color: #888;
            padding: 10px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
        }

        .warning {
            color: var(--warning-red);
            margin-top: 10px;
            display: none;
            padding: 10px;
            background: rgba(255, 68, 68, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(255, 68, 68, 0.3);
        }

        .periodic-element {
            display: inline-block;
            padding: 5px 10px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--hazmat-yellow);
            border-radius: 4px;
            margin-right: 10px;
        }

        .element-number {
            font-size: 0.8em;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>Empire Dashboard</h1>
            <div class="chemical-formula">C‚ÇÅ‚ÇÄH‚ÇÅ‚ÇÖCH‚ÇÉ</div>
        </div>

        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-value">98.1%</div>
                <div class="stat-label">Purity</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">42¬∞C</div>
                <div class="stat-label">Process Temp</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">14</div>
                <div class="stat-label">Distribution Points</div>
            </div>
        </div>

        <div class="grid">
            <div class="chart-container">
                <div class="chart-title">
                    <span class="periodic-element">
                        <span class="element-number">86</span><br>
                        Rv
                    </span>
                    Revenue Analysis
                </div>
                <canvas id="revenueChart"></canvas>
                <div id="revenueInfo" class="info-popup"></div>
            </div>

            <div class="chart-container">
                <div class="chart-title">
                    <span class="periodic-element">
                        <span class="element-number">35</span><br>
                        Pr
                    </span>
                    Production Output
                </div>
                <canvas id="productionChart"></canvas>
                <div id="productionInfo" class="info-popup"></div>
            </div>

            <div class="risk-meter">
                <h2 class="risk-title">
                    <span class="periodic-element">
                        <span class="element-number">15</span><br>
                        Th
                    </span>
                    Threat Level Monitor
                </h2>
                <div class="risk-bar">
                    <div class="risk-level" id="riskLevel"></div>
                </div>
                <div class="status-text">Status: <span id="riskStatus">Low Risk</span></div>
                <div class="risk-details" id="riskDetails"></div>
                <div class="warning" id="warning"></div>
            </div>
        </div>
    </div>

    <!-- Fixed Script -->
    <script>
      // Chart Options for both charts
      const chartOptions = {
          responsive: true,
          plugins: {
              legend: {
                  labels: { color: '#ffd700' }
              }
          },
          scales: {
              y: {
                  ticks: { color: '#ffd700' },
                  grid: { color: 'rgba(255, 215, 0, 0.1)' }
              },
              x: {
                  ticks: { color: '#ffd700' },
                  grid: { color: 'rgba(255, 215, 0, 0.1)' }
              }
          }
      };

      // Revenue Chart
      const revenueChart = new Chart(document.getElementById('revenueChart'), {
          type: 'line',
          data: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
              datasets: [{
                  label: 'Revenue ($K)',
                  data: [450, 850, 1200, 1800, 2100, 2400],
                  borderColor: '#ffd700',
                  backgroundColor: 'rgba(255, 215, 0, 0.1)',
                  tension: 0.4,
                  fill: true
              }]
          },
          options: chartOptions
      });

      // Production Chart
      const productionChart = new Chart(document.getElementById('productionChart'), {
          type: 'bar',
          data: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
              datasets: [{
                  label: 'Production (kg)',
                  data: [85, 95, 110, 118, 125, 127],
                  backgroundColor: '#ffd700'
              }]
          },
          options: chartOptions
      });

      // Risk Assessment on Click:
      document.addEventListener("DOMContentLoaded", function () {
          const riskLevelElement = document.getElementById("riskLevel");
          const riskStatusElement = document.getElementById("riskStatus");
          const riskDetailsElement = document.getElementById("riskDetails");
          const warningElement = document.getElementById("warning");

          function updateRiskLevel(value) {
              let riskPercentage = Math.min(value / 2500 * 100, 100);
              riskLevelElement.style.width = riskPercentage + "%";

              if (riskPercentage < 30) {
                  riskStatusElement.innerText = "Low Risk";
                  riskDetailsElement.innerText = "Everything is running smoothly.";
                  warningElement.style.display = "none";
              } else if (riskPercentage < 70) {
                  riskStatusElement.innerText = "Medium Risk";
                  riskDetailsElement.innerText = "Be cautious, fluctuations detected.";
                  warningElement.style.display = "none";
              } else {
                  riskStatusElement.innerText = "High Risk";
                  riskDetailsElement.innerText = "Critical alert! Immediate action required.";
                  warningElement.innerText = "‚ö†Ô∏è Warning: System under severe risk!";
                  warningElement.style.display = "block";
              }
          }

          function getChartData(chart, event) {
              const points = chart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, true);
              if (points.length) {
                  return chart.data.datasets[0].data[points[0].index];
              }
              return null;
          }

          document.getElementById('revenueChart').addEventListener('click', function (event) {
              const revenueValue = getChartData(revenueChart, event);
              if (revenueValue !== null) {
                  updateRiskLevel(revenueValue);
              }
          });

          document.getElementById('productionChart').addEventListener('click', function (event) {
              const productionValue = getChartData(productionChart, event);
              if (productionValue !== null) {
                  updateRiskLevel(productionValue * 20);
              }
          });
      });
    </script>
</body>
</html>
